---
import { getCollection } from "astro:content";
import PostSection from "@/components/PostSection.astro";
import Layout from "@/layouts/Main.astro";
import TagList from "@/components/TagList.astro";
import { filterPosts } from "@/lib/postUtils";

const posts = await getCollection("blog");
const filteredPosts = filterPosts(posts, {
  sortByDate: true,
});
---

<Layout>
  <div class="max-w-5xl mx-auto py-4 px-6 md:py-6 md:px-0">
    <PostSection posts={filteredPosts} />
    <TagList showCount={true} />
  </div>
</Layout>

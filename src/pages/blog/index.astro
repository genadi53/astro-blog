---
import { getCollection, type CollectionEntry } from "astro:content";
import PostSection from "@/components/PostSection.astro";
import Layout from "@/layouts/Main.astro";
import TagList from "@/components/TagList.astro";

type BlogPost = CollectionEntry<"blog">;

const posts = (await getCollection("blog")).sort(
  (a: BlogPost, b: BlogPost) =>
    b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<Layout>
  <div class="max-w-5xl mx-auto py-4 px-6 md:py-6 md:px-0">
    <PostSection posts={posts} />
    <TagList showCount={true} />
  </div>
</Layout>
